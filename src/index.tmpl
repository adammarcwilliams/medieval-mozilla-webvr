{% set title = "Medieval Mozilla WebVR" %}

{% extends "layouts/default.tmpl" %}

{% block scripts %}
<script src="vendor/aframe-v0.7.1.min.js"></script>
<script src="vendor/aframe-teleport-controls.min.js"></script>
<script src="vendor/aframe-animation-component-v3.2.5.min.js"></script>
<script src="vendor/aframe-gltf-part-component.min.js"></script>
<script src="vendor/aframe-extras.min.js"></script>
<script src="vendor/aframe-gradientsky.min.js"></script>
{% endblock %}

{% block assets %}
<img id="groundTexture" src="https://cdn.aframe.io/a-painter/images/floor.jpg" crossorigin="anonymous">
<img id="skyTexture" src="https://cdn.aframe.io/a-painter/images/sky.jpg" crossorigin="anonymous">
<a-asset-item id="terrainGLTF" src="assets/models/wrath_of_the_dragon_terrain/scene.gltf"></a-asset-item>
<a-asset-item id="bridgeFullGLTF" src="assets/models/wrath_of_the_dragon_bridgefull/scene.gltf"></a-asset-item>
<a-asset-item id="woodBridgeGLTF" src="assets/models/wrath_of_the_dragon_woodbridge/scene.gltf"></a-asset-item>
<a-asset-item id="wallGLTF" src="assets/models/wrath_of_the_dragon_wall/scene.gltf"></a-asset-item>
<a-asset-item id="tower1GLTF" src="assets/models/wrath_of_the_dragon_tower1/scene.gltf"></a-asset-item>
<a-asset-item id="tower2GLTF" src="assets/models/wrath_of_the_dragon_tower2/scene.gltf"></a-asset-item>
<a-asset-item id="tower3GLTF" src="assets/models/wrath_of_the_dragon_tower3/scene.gltf"></a-asset-item>
<a-asset-item id="tower4GLTF" src="assets/models/wrath_of_the_dragon_tower4/scene.gltf"></a-asset-item>
<a-asset-item id="tower6GLTF" src="assets/models/wrath_of_the_dragon_tower6/scene.gltf"></a-asset-item>
<a-asset-item id="stairsGLTF" src="assets/models/wrath_of_the_dragon_stairs/scene.gltf"></a-asset-item>
<a-asset-item id="castleGLTF" src="assets/models/wrath_of_the_dragon_castle/scene.gltf"></a-asset-item>
<a-asset-item id="stairs2GLTF" src="assets/models/wrath_of_the_dragon_stairs2/scene.gltf"></a-asset-item>
<a-asset-item id="flag1GLTF" src="assets/models/wrath_of_the_dragon_flag1/scene.gltf"></a-asset-item>
<a-asset-item id="flag2GLTF" src="assets/models/wrath_of_the_dragon_flag2/scene.gltf"></a-asset-item>
<a-asset-item id="flagPoleGLTF" src="assets/models/wrath_of_the_dragon_flagpole/scene.gltf"></a-asset-item>
<a-asset-item id="vikingLongshipGLTF" src="assets/models/viking_longship/scene.gltf"></a-asset-item>
<a-asset-item id="vikingLongshipWreckGLTF" src="assets/models/viking_longship_wreck/scene.gltf"></a-asset-item>
{% endblock %}

{% block entitys %}

<a-entity
    id="vikingLongship"
    gltf-model="#vikingLongshipGLTF"
    position="-40 -12 30"
    rotation="0 -70 0"
    scale="2 2 2"
    animation__bob="property: position; dir: alternate; dur: 2000; easing: easeInSine; loop: true; to: -40 -12.5 30"></a-entity>
<a-entity
    id="vikingLongshipWreck"
    gltf-model="#vikingLongshipWreckGLTF"
    position="32 -13 48"
    rotation="0 -134 0"
    scale="2 2 2"></a-entity>
<a-entity id="castle" gltf-model="#castleGLTF" position="0 0 0"></a-entity>
<a-entity id="stairs2" gltf-model="#stairs2GLTF" position="0 0 0"></a-entity>
<a-entity id="flagPole" gltf-model="#flagPoleGLTF" position="0 0 0"></a-entity>
<a-entity id="flag2" gltf-model="#flag2GLTF" position="0 0 0"></a-entity>
<a-entity id="flag1" gltf-model="#flag1GLTF" position="0 0 0"></a-entity>
<a-entity id="tower6" gltf-model="#tower6GLTF" position="0 0 0"></a-entity>
<a-entity id="tower4" gltf-model="#tower4GLTF" position="0 0 0"></a-entity>
<a-entity id="tower3" gltf-model="#tower3GLTF" position="0 0 0"></a-entity>
<a-entity id="tower2" gltf-model="#tower2GLTF" position="0 0 0"></a-entity>
<a-entity id="wall" gltf-model="#wallGLTF" position="0 0 0"></a-entity>
<a-entity id="woodBridge" gltf-model="#woodBridgeGLTF" position="0 0 0"></a-entity>
<a-entity id="bridgeFull" gltf-model="#bridgeFullGLTF" position="0 0 0"></a-entity>
<a-entity id="tower1" gltf-model="#tower1GLTF" position="0 0 0"></a-entity>
<a-entity id="stairs" gltf-model="#stairsGLTF" position="0 0 0"></a-entity>
<a-entity id="terrain" gltf-model="#terrainGLTF" position="0 0 0"></a-entity>
<a-entity id="ocean" ocean="density: 20; width: 250; depth: 75; speed: 4" rotation="-90 0 0" position="0 -12 48"></a-entity>
<a-gradient-sky material="shader: gradient; topColor: 92 49 58; bottomColor: 61 33 39;"></a-gradient-sky>

<a-entity id="cameraRig" position="-72 22 87">
    <a-entity id="head" camera wasd-controls look-controls></a-entity>
    <a-entity id="teleHand" hand-controls="left" teleport-controls="cameraRig: #cameraRig; teleportOrigin: #head; type: parabolic; button: trigger; collisionEntities: #terrain, #bridgeFull"></a-entity>
    <a-entity id="blockHand" hand-controls="right"></a-entity>
</a-entity>




{% endblock %}